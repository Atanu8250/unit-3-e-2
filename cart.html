<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cart</title>
  <link rel="stylesheet" href="style/cart.css">
</head>

<body>
  <div>
    <!--Show cart total with id:- "cart_total" here, do not add anything only Total value. Not even "Total - 1200Rs" but like this "1200" -->
    <h2 id="cart_total">0</h2>
  </div>
  <div id="cart">
    <!--Show items added to cart here-->
    <!-- add an remove button to each item so that you can remove that dish from cart, give the button HTML class as 'remove' -->
  </div>

  <!-- Provide a checkout button with id as "checkout" to go to checkout.html page -->
  <button id="checkout"><a href="checkout.html">Checkout</a></button>
</body>
<script>
  let cart = JSON.parse(localStorage.getItem("cart_items")) || [];
  let cartTotal = document.querySelector("#cart_total");

  cartFunc();
  showData();

  function cartFunc() {
    cartTotal.innerText = null;
    let total = 0;
    cart.forEach(function (el) {
      total += el.price;
    })
    cartTotal.innerText = total;
  }

  function showData(){
    // console.log(cart)
    let container = document.querySelector("#cart");
    container.innerHTML = null;

    cart.forEach(function (el,index) {
      let box = document.createElement("div");
      let img = document.createElement("img");
      img.src = el.image;

      let name = document.createElement("h3");
      name.innerText = el.name;

      let price = document.createElement("p");
      price.innerHTML = `<b>Price: </b>${el.price}`;

      let cart = document.createElement("button");
      cart.innerText = 'Remove from Cart';
      cart.setAttribute("class", "remove");
      cart.addEventListener("click", function () {
        removeFromCart(el,index);
      })

      container.append(box);
      box.append(img, name, price, cart);
    })
  }

  function removeFromCart(el,index){
    cart.splice(index, 1);
    // console.log(cart)
    localStorage.setItem("cart_item", JSON.stringify(cart))
    cartFunc();
    showData();
  }

</script>

</html>